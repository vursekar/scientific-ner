{"authors": "Wanying Xie; Yang Feng; Shuhao Gu; Dong Yu", "pub_date": "", "title": "Importance-based Neuron Allocation for Multilingual Neural Machine Translation", "abstract": "Multilingual neural machine translation with a single model has drawn much attention due to its capability to deal with multiple languages. However, the current multilingual translation paradigm often makes the model tend to preserve the general knowledge, but ignore the language-specific knowledge. Some previous works try to solve this problem by adding various kinds of language-specific modules to the model, but they suffer from the parameter explosion problem and require specialized manual design. To solve these problems, we propose to divide the model neurons into general and language-specific parts based on their importance across languages. The general part is responsible for preserving the general knowledge and participating in the translation of all the languages, while the language-specific part is responsible for preserving the languagespecific knowledge and participating in the translation of some specific languages. Experimental results on several language pairs, covering IWSLT and Europarl corpus datasets, demonstrate the effectiveness and universality of the proposed method.", "sections": [{"heading": "Introduction", "text": "Neural machine translation(NMT) (Kalchbrenner and Blunsom, 2013;Sutskever et al., 2014;Bahdanau et al., 2015;Gehring et al., 2017;Vaswani et al., 2017) has shown its superiority and drawn much attention in recent years. Although the NMT model can achieve promising results for highresource language pairs, it is unaffordable to train separate models for all the language pairs since there are thousands of languages in the world (Tan et al., 2019;Aharoni et al., 2019;Arivazhagan et al., 2019). A typical solution to reduce the model size and the training cost is to handle multiple languages in a single multilingual neural machine translation (MNMT) model (Ha et al., 2016;Firat et al., 2016;Johnson et al., 2017;Gu et al., 2018). The standard paradigm of MNMT proposed by Johnson et al. (2017) contains a language-shared encoder and decoder with a special language indicator in the input sentence to determine the target language.\nBecause different languages share all of the model parameters in the standard MNMT model, the model tends to converge to a region where there are low errors for all the languages. Therefore, the MNMT model trained on the combined data generally captures the general knowledge, but ignores the language-specific knowledge, rendering itself sub-optimal for the translation of a specific language (Sachan and Neubig, 2018;Blackwood et al., 2018;Wang et al., 2020b). To retain the language-specific knowledge, some researches turn to augment the NMT model with language-specific modules, e.g., the language-specific attention module (Blackwood et al., 2018), decoupled multilingual encoders and/or decoders (V\u00e1zquez et al., 2019;Escolano et al., 2020) and the lightweight language adapters . However, these methods suffer from the parameter increment problem, because the number of parameters increases linearly with the number of languages. Besides, the structure, size, and location of the module have a large influence on the final performance, which requires specialized manual design. As a result, these problems often prevent the application of these methods in some scenarios.\nBased on the above, we aim to propose a method that can retain the general and language-specific knowledge, and keep a stable model size as the number of language-pair increases without introducing any specialized module. To achieve this, we propose to divide the model neurons into two parts based on their importance: the general neurons which are used to retain the general knowledge of all the languages, and the language-specific neurons which are used to retain the language-specific knowledge. Specifically, we first pre-train a standard MNMT model on all language data and then evaluate the importance of each neuron in each language pair. According to their importance, we divide the neurons into the general neurons and the language-specific neurons. After that, we finetune the translation model on all language pairs. In this process, only the general neurons and the corresponding language-specific neurons for the current language pair participate in training. Experimental results on different languages show that the proposed method outperforms several strong baselines.\nOur contributions can be summarized as follows:\n\u2022 We propose a method that can improve the translation performance of the MNMT model without introducing any specialized modules or adding new parameters.\n\u2022 We show that the similar languages share some common features that can be captured by some specific neurons of the MNMT model.\n\u2022 We show that some modules tend to capture the general knowledge while some modules are more essential for capturing the languagespecific knowledge.", "n_publication_ref": 19, "n_figure_ref": 0}, {"heading": "Background", "text": "In this section, we will give a brief introduction to the Transformer model (Vaswani et al., 2017) and the Multilingual translation.", "n_publication_ref": 1, "n_figure_ref": 0}, {"heading": "The Transformer", "text": "We denote the input sequence of symbols as x = (x 1 , . . . , x J ), the ground-truth sequence as y * = (y * 1 , . . . , y * K * ) and the translation as y = (y 1 , . . . , y K ).\nTransformer is a stacked network with N identical layers containing two or three basic blocks in each layer. For a single layer in the encoder, it consists of a multi-head self-attention and a position-wise feed-forward network. For a single decoder layer, besides the above two basic blocks, a multi-head cross-attention follows multi-head selfattention. The input sequence x will be first converted to a sequence of vectors and fed into the encoder. Then the output of the N -th encoder layer will be taken as source hidden states and fed into decoder. The final output of the N -th decoder layer gives the target hidden states and translate the target sentences.", "n_publication_ref": 0, "n_figure_ref": 0}, {"heading": "Multilingual Translation", "text": "In the standard paradigm of MNMT, all parameters are shared across languages and the model is jointly trained on multiple language pairs. We follow Johnson et al. (2017) to reuse standard bilingual NMT models for multilingual translation by altering the source input with a language token lang, i.e. changing x to x = (lang, x 1 , . . . , x J ).", "n_publication_ref": 1, "n_figure_ref": 0}, {"heading": "Approach", "text": "Our goal is to build a unified model, which can achieve good performance on all language pairs. The main idea of our method is that different neurons have different importance to the translation of different languages. Based on this, we divide them into general and language-specific ones and make general neurons participate in the translation of all the languages while language-specific neurons focus on some specific languages. Specifically, the proposed approach involves the following steps shown in Figure 1. First, we pretrain the model on the combined data of all the language pairs following the normal paradigm in Johnson et al. (2017). Second, we evaluate the importance of different neurons on these language pairs and allocate them into general neurons and language-specific neurons. Last, we fine-tune the translation model on the combined data again. It should be noted that for a specific language pair only the general neurons and the language-specific neurons for this language pair will participate in the forward and backward computation when the model is trained on this language pair. Other neurons will be zeroed out during both training and inference.", "n_publication_ref": 1, "n_figure_ref": 1}, {"heading": "Importance Evaluation", "text": "The basic idea of importance evaluation is to determine which neurons are essential to all languages while which neurons are responsible for some specific languages. For a neuron i, its average importance I across language pairs is defined as follow:\nI(i) = 1 M M m=1 \u0398 m (i),(1)\nwhere the \u0398(\u2022) denotes the importance evaluation function and M denotes the number of language pairs. This value correlates positively with how important the neuron is to all languages. For the importance evaluation function \u0398(\u2022), we adopt two schemes: one is based on the Taylor Expansion and the other is based on the Absolute Value.\nTaylor Expansion We adopt a criterion based on the Taylor Expansion (Molchanov et al., 2017), where we directly approximate the change in loss when removing a particular neuron. Let h i be the output produced from neuron i and H represents the set of other neurons. Assuming the independence of each neuron in the model, the change of loss when removing a certain neuron can be represented as:\n|\u2206L(h i )| = |L(H, h i = 0) \u2212 L(H, h i )|, (2\n)\nwhere L(H, h i = 0) is the loss value if the neuron i is pruned and L(H, h i ) is the loss if it is not pruned. For the function L(H, h i ), its Taylor Expansion at point h i = a is:\nL(H, h i ) = N n=0 L n (H, a) n! (h i \u2212 a) n + R N (h i ),(3)\nwhere L n (H, a) is the n-th derivative of L(H, h i ) evaluated at point a and R N (h i ) is N -th remainder. Then, approximating L(H, h i = 0) with a firstorder Taylor polynomial where h i equals zero:\nL(H, h i = 0) = L(H, h i )\u2212 \u2202L(H, h i ) \u2202h i h i \u2212R 1 (h i ).\n(4) The remainder R 1 can be represented in the form of Lagrange:\nR 1 (h i ) = \u2202 2 L(H, h i ) \u2202 2 \u03b4h i h 2 i ,(5)\nwhere \u03b4 \u2208 (0, 1). Considering the use of ReLU activation function (Glorot et al., 2011) in the model, the first derivative of loss function tends to be constant, so the second order term tends to be zero in the end of training. Thus, we can ignore the remainder and get the importance evaluation function as follows:\n\u0398 TE (i) = |\u2206L(h i )| = \u2202L(H, h i ) \u2202h i h i . (6)\nIn practice, we need to accumulate the product of the activation and the gradient of the objective function w.r.t to the activation, which is easily computed during back-propagation. Finally, the evaluation function is shown as:\n\u0398 m TE (i l ) = 1 T m t \u03b4L(H, h l i ) \u03b4h l i h l i ,(7)\nwhere h l i is the activation value of the i-th neuron of l-th layer and T m is the number of the training examples of language pair m. The criterion is computed on the data of language pair m and averaged over T m .\nAbsolute Value We adopt the magnitude-based neuron importance evaluation scheme (See et al., 2016), where the absolute value of each neuron's activation value is treated as the importance:\n\u0398 m AV (i l ) = 1 T m t |h l i |. (8\n)\nThe notations in the above equation are the same as those in the Equation 7. After the importance of each neuron is evaluated on the combined data, we need to determine the role of each neuron in the fine-tuning step following the method in the next section.", "n_publication_ref": 3, "n_figure_ref": 0}, {"heading": "Neuron Allocation", "text": "In this step, we should determine which neurons are shared across all the language pairs and which neurons are shared only for some specific language pairs.", "n_publication_ref": 0, "n_figure_ref": 0}, {"heading": "General Neurons", "text": "According to the overall importance I(i) in Equation 1, the value correlates positively with how important the neuron is to all languages. Therefore, we rank the neurons in each layer based on the importance and make the top \u03c1 percentage as general neurons that are responsible for capturing general knowledge.\nLanguage-specific Neurons Next, we regard other neurons except for the general neurons as the language-specific neurons and determine which language pair to assign them to. To achieve this, we compute an importance threshold for each neuron:\n\u03bb(i) = k \u00d7 max(\u0398 m (i)), m \u2208 {1, . . . , M }, k \u2208 [0, 1](9)\n, where max(\u0398 m (i)) denotes the maximum importance of this neuron in all language pairs and k is a hyper-parameter. The neuron will be assigned to the language-pairs whose importance is larger than the threshold. When the importance of neurons is determined, the number of language pairs associated with each neuron can be adjusted according to k. The smaller the k, the more language-pairs will be associated with the specific neurons. In this way, we flexibly determine the language pairs assigned to each neuron according to its importance in different languages. Note that the neuron allocation is based on the importance of language pair. We have also tried other allocation variants, e.g., based on the source language, target language, and find that the language pair-based method is the best among of these methods. The detailed results are listed in Appendix A.\nAfter this step, the model is continually finetuned on the combined multilingual data. If the training data is from a specific language pair, only the general neurons and the language-specific neurons for this language pair will participate in the forward computation and the parameters associated with them will be updated during the backward propagation.", "n_publication_ref": 0, "n_figure_ref": 0}, {"heading": "Experiments", "text": "", "n_publication_ref": 0, "n_figure_ref": 0}, {"heading": "Data Preparation", "text": "In this section, we describe the datasets using in our experiments on many-to-many and one-to-many multilingual translation scenarios.\nMany-to-Many For this translation scenario, we test our approach on IWSLT-17 1 translation datasets, including English, Italian, Romanian, Dutch (briefly, En, It, Ro, Nl). We experimented in eight directions, including It\u2194En, Ro\u2194En, Nl\u2194En, and It\u2194Ro, with 231.6k, 220.5k, 237.2k, and 217.5k data for each language pair. We choose test2016 and test2017 as our development and test set, respectively. Sentences of all languages were tokenized by the Moses scripts 2 and further segmented into subword symbols using Byte-Pair Encoding (BPE) rules (Sennrich et al., 2016) with 40K merge operations for all languages jointly.\nOne-to-Many We evaluate the quality of our multilingual translation models using training data from the Europarl Corpus 3 , Release V7. Our experiments focus on English to twelve primary languages: Czech, Finnish, Greek, Hungarian, Lithuanian, Latvian, Polish, Portuguese, Slovak, Slovene, Swedish, Spanish (briefly, Cs, Fi, El, Hu, Lt, Lv, Pl, Pt, Sk, Sl, Sv, Es). For each language pair, we randomly sampled 0.6M parallel sentences as training corpus (7.2M in all). The Europarl evaluation data set dev2006 is used as our validation set, while devtest2006 is our test set. For language pairs without available development and test set, we randomly split 1K unseen sentence pairs from the corresponding training set as the development and test data respectively. We tokenize and truecase the sentences with Moses scripts and apply a jointly-learned set of 90k BPE obtained from the merged source and target sides of the training data for all twelve language pairs.", "n_publication_ref": 1, "n_figure_ref": 0}, {"heading": "Systems", "text": "To make the evaluation convincing, we reimplement and compare our method with four baseline systems, which can be divided into two categories with respect to the number of models. The multiple-model approach requires maintaining a dedicated NMT model for each language:   Individual A NMT model is trained for each language pair. Therefore, there are N different models for N language pairs. The unified model-based methods handle multiple languages within a single unified NMT model:\nMultilingual (Johnson et al., 2017) Handling multiple languages in a single transformer model which contains one encoder and one decoder with a special language indicator lang added to the input sentence.\n+TS (Blackwood et al., 2018) This method assigns language-specific attention modules to each language pair. We implement the target-specific attention mechanism because of its excellent performance in the original paper.\n+Adapter  This method injects tiny adapter layers for specific language pairs into the original MNMT model. We set the dimension of projection layer to 128 and train the model from scratch.\nOur Method-AV Our model is trained just as the Approach section describes. In this system, we adopt the absolute value based method to evaluate the importance of neurons across languages.\nOur Method-TE This system is implemented the same as the system Our Method-AV except that we adopt the Taylor Expansion based evaluation method as shown in Equation 7.\n+Expansion To make a fair comparison, we set the size of Feed Forward Network to 3000 to expand the model capacity up to the level of other baselines, and then apply our Taylor Expansion based method to this model.", "n_publication_ref": 2, "n_figure_ref": 0}, {"heading": "Details", "text": "For fair comparisons, we implement the proposed method and other contrast methods on the advanced Transformer model using the open-source toolkit Fairseq-py (Ott et al., 2019). We follow Vaswani et al. (2017) to set the configurations of the NMT model, which consists of 6 stacked encoder/decoder layers with the layer size being 512. All the models were trained on 4 NVIDIA 2080Ti GPUs where each was allocated with a batch size of 4,096 tokens for one-to-many scenario and 2,048 tokens for the many-to-many scenario. We train the baseline model using Adam optimizer (Kingma and Ba, 2015) with \u03b2 1 = 0.9, \u03b2 2 = 0.98, and = 10 \u22129 . The proposed models are further trained with corresponding parameters initialized by the pre-trained baseline model. We vary the hyperparameter \u03c1 that controls the proportion of general neurons in each module from 80% to 95% and set it to 90% in our main experiments according to the performance. The detailed results about this hyper-parameter are list in Appendix B. We set the hyper-parameter k to 0.7 and do more analysis on it in Section 5.3. For evaluation, we use beam search with a beam size of 4 and length penalty \u03b1 = 0.6.", "n_publication_ref": 2, "n_figure_ref": 0}, {"heading": "Results", "text": "The final translation is detokenized and then the quality is evaluated using the 4-gram case-sensitive BLEU (Papineni et al., 2002) with the SacreBLEU tool (Post, 2018). 4 Many-to-Many The results are given in Table 1. We can see that the improvements brought by +TS and +Adapter methods are not large. For the +TS method, attention module may be not essential to capture language-specific knowledge, and thus it is difficult to converge to good optima. For the +Adapter method, adding an adapter module to the end of each layer may be not appropriate for some languages and hence has a loose capture to the specific features. In all language pairs, our method based on Taylor Expansion outperforms all the baselines in the datasets. Moreover, the parameters in our model are the same as the Multilingual system and less than other baselines.\nOne-to-Many The results are given in Table 2, our method exceeds the multilingual baseline in all language pairs and outperforms other baselines in most language pairs without capacity increment. When we expand the model capacity to the level of +Adapter, our approach can achieve better translation performance, which demonstrates the effectiveness of our method. Another finding is that the results of the individual baseline are worse than other baselines. The reason may be the training data is not big enough, individual baseline can not get a good enough optimization on 0.6M sentences, while the MNMT model can be well trained with a total of 7.2M data.", "n_publication_ref": 2, "n_figure_ref": 0}, {"heading": "Analysis", "text": "", "n_publication_ref": 0, "n_figure_ref": 0}, {"heading": "Neuron Importance for Different languages", "text": "In our method, we allocate neurons based on their importance for different languages. The rationality behind this mechanism is that different neurons should have distinct importance values so that these neurons can find their relevant language pairs. Therefore, we show the importance of neurons computed by Taylor Expansion in different modules for the one-to-many (O2M) and many-to-many (M2M) translation tasks.  are Spanish and Portuguese, both of which belong to the Western Romance, the Romance branch of the Indo-European family, while the last one is Finnish, a member of the Finnish-Ugric branch of the Ural family. As we can see, the importance of Spanish and Portuguese are always similar in most neurons, but there is no obvious correlation between Finnish and the other two languages. It indicates that similar languages are also similar in the distribution of the neuron importance, which implies that the common features in similar languages can be captured by the same neurons.\nThe results of M2M are shown in Figure 2(c) and Figure 2(d), and the language pairs are It\u2192En, Ro\u2192It, and En\u2192Ro, whose BLEU scores are 0.67, 1, and 1.7 higher than the multilingual baseline, respectively. In most neurons, the highest importance value is twice as high as the lowest and this high variance of importance provides the theoretical basis for later neuron allocation. Moreover, we can see a lot of importance peaks of the two language pairs: Ro\u2192It and En\u2192Ro, which means that these neurons are especially important for generating the translation for these language pairs. However, the fluctuation of It\u2192En is flat with almost no peaks, which means only a few neurons are specific to this language pair. This may be the reason why some language pairs have higher improvements, while some have lower improvements.", "n_publication_ref": 0, "n_figure_ref": 2}, {"heading": "Distribution of the Language-specific Neurons", "text": "Except for the general neurons shared by all the language pairs, our method allocates other neurons to different language pairs based on their importance. These language-specific neurons are important for preserving the language-specific knowledge. To better understand the effectiveness of our method, we will show how these specific neurons are distributed in the model. To evaluate the proportion of language-specific neurons for different language pairs at each layer, we introduce a new metric, LScore, formulated as:\nLScore(l, m) =\u0128 m l I l , m \u2208 {1, . . . , M } (10)\nwhere\u0128 m l denotes the number of neurons allocated to language pair m in the l-th layer, and\u0128 l denotes the total number of the language-specific neurons in the l-th layer. The larger the LScore, the more neurons allocated to the language pair m. We also introduce a metric to evaluate the average proportion of language-specific neurons of each language in different modules, which formulated as:\nMScore(l, f ) = 1 M M m=0\u0128 m l,f I l,f , m \u2208 {1, . . . , M }(11)\nwhere\u0128 m l,f denotes the number of specific neurons for language pair m of in the f module of the lth layer and M denotes the total number of the language pair. The larger the MScore is, the more specific neurons are allocated to different language pairs in this module.\nAs shown in Figure 3(a) and Figure 3(b), the language pairs have low LScores at the top and bottom layers and high LScores at the middle layers of both the encoder and decoder. The highest LScore appears at the third or fourth layers, which indicates that the neuron importance of different language pairs is similar and the neurons of the middle layers are shared by more languages. As a contrast, the bottom and top layers will be more specialized for different language pairs. Next, from Figure 3(c) and Figure 3(d), we can see the MScores of the attention modules are almost near 1.0, which means neurons in self attention and cross attention are almost shared across all language pairs. However, the MScores of Feed Forward Network (FFN) gradually decrease as layer depth increases and it shows that the higher layers in FFN are more essential for capturing the language-specific knowledge.", "n_publication_ref": 0, "n_figure_ref": 4}, {"heading": "Effects of the Hyper-parameter k", "text": "When the importance of neurons for different languages is determined, the number of language pairs associated with each neuron can be adjusted ac-Figure 5: \u2206 BLEU over best performance when erasing the general or language-specific neurons randomly on the many-to-many translation task. cording to k. When k = 1.0, the threshold is max(\u0398 m (i)) as computed by Equation 9, so the neurons will only be allocated to the language pair with the highest importance, and when k = 0, the threshold is 0 so the neurons will be shared across all language pairs just like the Multilingual baseline. To better show the overall impact of the hyperparameter k, we vary it from 0 to 1 and the results are shown in Figure 4. As we can see, the translation performance of the two proposed approaches increases with the increment of k and reach the best performance when k equals 0.7. As k continues to increase, the performance deteriorates, which indicates that the over-specific neurons are bad at capturing the common features shared by similar languages and will lead to performance degradation.", "n_publication_ref": 0, "n_figure_ref": 2}, {"heading": "The Specific and General knowledge", "text": "The main idea of our method is to let the general knowledge and the language-specific knowledge be captured by different neurons of our method. To verify whether this goal has been achieved, we conduct the following experiments. For the general knowledge, we randomly erase 20% general neurons of the best checkpoint of our method, which means we mask the output value of these neurons to 0, then generate translation using it. For languagespecific knowledge, we randomly erase 50% specific neurons and then generate translation.\nAs shown in Figure 5, when the general neurons are erased, the BLEU points of all the language pairs drop a lot (about 15 to 20 BLEU), which indicates general neurons do capture the general knowledge across languages. For specific neurons, we show three language pairs for the sake of convenience. We can see that when the neurons associated with the current language pair are erased, the performance of this language pair decreases greatly. However, the performance of other language pairs only declines slightly, because the specific knowledge captured by these specific neurons are not so important for other languages.", "n_publication_ref": 0, "n_figure_ref": 1}, {"heading": "Related Work", "text": "Our work closely relates to language-specific modeling for MNMT and model pruning which we will recap both here. Early MNMT studies focus on improving the sharing capability of individual bilingual models to handle multiple languages, which includes sharing encoders (Dong et al., 2015), sharing decoders (Zoph et al., 2016), and sharing sublayers (Firat et al., 2016). Later, Ha et al. (2016) and Johnson et al. (2017) propose an universal MNMT model with a target language token to indicate the translation direction. While this paradigm fully explores the general knowledge between languages and hard to obtain the specific knowledge of each language (Tan et al., 2019;Aharoni et al., 2019), the subsequent researches resort to Language-specific modeling, trying to find a better trade-off between sharing and specific. Such approaches involve inserting conditional languagespecific routing layer (Zhang et al., 2021), specific attention networks (Blackwood et al., 2018;Sachan and Neubig, 2018), adding task adapters , and training model with different language clusters (Tan et al., 2019), and so on. However, these methods increase the capacity of the model which makes the model bloated.\nMoreover, our method is also related to model pruning, which usually aims to reduce the model size or improve the inference efficiency. Model pruning has been widely investigated for both computer vision (CV) (Luo et al., 2017) and natural language processing (NLP) tasks. For example, See et al. (2016) examines three magnitude-based pruning schemes, Zhu and Gupta (2018) demonstrates that large-sparse models outperform comparablysized small-dense models, and Wang et al. (2020a) improves the utilization efficiency of parameters by introducing a rejuvenation approach. Besides, Lan et al. (2020) presents two parameter reduction techniques to lower memory consumption and increase the training speed of BERT.", "n_publication_ref": 16, "n_figure_ref": 0}, {"heading": "Conclusion", "text": "The current standard models of multilingual neural machine translation fail to capture the characteristics of specific languages, while the latest researches focus on the pursuit of specific knowledge while increasing the capacity of the model and requiring fine manual design. To solve the problem, we propose an importance-based neuron allocation method. We divide neurons to general neurons and language-specific neurons to retain general knowledge and capture language-specific knowledge without model capacity incremental and specialized design. The experiments prove that our method can get superior translation results with better general and language-specific knowledge. ", "n_publication_ref": 0, "n_figure_ref": 0}, {"heading": "A Performance on Different Varieties", "text": "In the proposed method we allocate neurons based on importance of language pair. There are three varieties of our method: (a) Source-Specific, share all neurons according to the source language only; (b) Target-Specific, share all neurons according to the target language only; (c) Separate Enc-Dec, Encoder neurons are shared according to the source language and decoder neurons are shared according to the target language. Note that (c) is different from our method since (c) is separate neurons to two parts (encoder and decoder) and then connect specific neurons of the two parts to form a whole, while our method is directly based on language pairs.\nAs shown in Figure 6, we compare our Taylor Expansion method with the other three varieties. Our approach outperforms other varieties on almost all language pairs, and the performance of the language-pair based approach is undoubtedly the best. The second is based on the target language and the source language. Worst of all are the separated encoder-decoder, which may be due to the mismatch between the neurons of the encoder and decoder when they are reconnected.", "n_publication_ref": 0, "n_figure_ref": 1}, {"heading": "B Effects of the Hyper-parameter \u03c1", "text": "We conducted several experiments on \u03c1 to determine the optimal hyper-parameter, so as to determine the proportion of universal neurons. As shown in Table 3, when \u03c1 = 90% the model gets the best translation result and reach best trade-off between general and language-specific neurons.  ", "n_publication_ref": 0, "n_figure_ref": 0}, {"heading": "Acknowledgments", "text": "We thank all the anonymous reviewers for their insightful and valuable comments. This work was supported by National Key R&D Program of China (NO. 2017YFE0192900).", "n_publication_ref": 0, "n_figure_ref": 0}], "references": [{"title": "Massively multilingual neural machine translation", "journal": "Long and Short Papers", "year": "2019-06-02", "authors": "Roee Aharoni; Melvin Johnson; Orhan Firat"}, {"title": "Massively multilingual neural machine translation in the wild: Findings and challenges", "journal": "", "year": "1907", "authors": "Naveen Arivazhagan; Ankur Bapna; Orhan Firat; Dmitry Lepikhin; Melvin Johnson; Maxim Krikun; Mia Xu Chen; Yuan Cao; George F Foster; Colin Cherry; Wolfgang Macherey; Zhifeng Chen; Yonghui Wu"}, {"title": "Neural machine translation by jointly learning to align and translate", "journal": "", "year": "2015-05-07", "authors": "Dzmitry Bahdanau; Kyunghyun Cho; Yoshua Bengio"}, {"title": "Simple, scalable adaptation for neural machine translation", "journal": "Association for Computational Linguistics", "year": "2019-11-03", "authors": "Ankur Bapna; Orhan Firat"}, {"title": "Multilingual neural machine translation with task-specific attention", "journal": "", "year": "2018-08-20", "authors": "Graeme W Blackwood; Miguel Ballesteros; Todd Ward"}, {"title": "Multi-task learning for multiple language translation", "journal": "Long Papers", "year": "2015-07-26", "authors": "Daxiang Dong; Hua Wu; Wei He; Dianhai Yu; Haifeng Wang"}, {"title": "Multilingual machine translation: Closing the gap between shared and language-specific encoderdecoders", "journal": "", "year": "2004", "authors": "Carlos Escolano; Marta R Costa-Juss\u00e0; A R Jos\u00e9; Mikel Fonollosa;  Artetxe"}, {"title": "Multi-way, multilingual neural machine translation with a shared attention mechanism", "journal": "", "year": "2016-06-12", "authors": "Orhan Firat; Kyunghyun Cho; Yoshua Bengio"}, {"title": "Convolutional sequence to sequence learning", "journal": "", "year": "2017-08-11", "authors": "Jonas Gehring; Michael Auli; David Grangier; Denis Yarats; Yann N Dauphin"}, {"title": "Deep sparse rectifier neural networks", "journal": "", "year": "2011-04-11", "authors": "Xavier Glorot; Antoine Bordes; Yoshua Bengio"}, {"title": "Universal neural machine translation for extremely low resource languages", "journal": "", "year": "2018-06-01", "authors": "Jiatao Gu; Hany Hassan; Jacob Devlin; O K Victor;  Li"}, {"title": "Toward multilingual neural machine translation with universal encoder and decoder", "journal": "CoRR", "year": "2016", "authors": "Thanh-Le Ha; Jan Niehues; Alexander H Waibel"}, {"title": "Google's multilingual neural machine translation system: Enabling zero-shot translation", "journal": "TACL", "year": "2017", "authors": "Melvin Johnson; Mike Schuster; Quoc V Le; Maxim Krikun; Yonghui Wu; Zhifeng Chen; Nikhil Thorat; Fernanda B Vi\u00e9gas; Martin Wattenberg; Greg Corrado; Macduff Hughes; Jeffrey Dean"}, {"title": "Recurrent continuous translation models", "journal": "", "year": "2013", "authors": "Nal Kalchbrenner; Phil Blunsom"}, {"title": "Adam: A method for stochastic optimization", "journal": "", "year": "2015-05-07", "authors": "P Diederik; Jimmy Kingma;  Ba"}, {"title": "ALBERT: A lite BERT for self-supervised learning of language representations", "journal": "", "year": "2020-04-26", "authors": "Zhenzhong Lan; Mingda Chen; Sebastian Goodman; Kevin Gimpel; Piyush Sharma; Radu Soricut"}, {"title": "Thinet: A filter level pruning method for deep neural network compression", "journal": "IEEE Computer Society", "year": "2017-10-22", "authors": "Jian-Hao Luo; Jianxin Wu; Weiyao Lin"}, {"title": "Pruning convolutional neural networks for resource efficient inference", "journal": "", "year": "2017-01", "authors": "Pavlo Molchanov; Stephen Tyree; Tero Karras; Timo Aila"}, {"title": "fairseq: A fast, extensible toolkit for sequence modeling", "journal": "", "year": "2019", "authors": "Myle Ott; Sergey Edunov; Alexei Baevski; Angela Fan; Sam Gross; Nathan Ng; David Grangier; Michael Auli"}, {"title": "Bleu: a method for automatic evaluation of machine translation", "journal": "", "year": "2002-07-06", "authors": "Kishore Papineni; Salim Roukos; Todd Ward; Wei-Jing Zhu"}, {"title": "A call for clarity in reporting BLEU scores", "journal": "", "year": "2018", "authors": "Matt Post"}, {"title": "Parameter sharing methods for multilingual selfattentional translation models", "journal": "Association for Computational Linguistics", "year": "2018-10-31", "authors": "Devendra Singh Sachan; Graham Neubig"}, {"title": "Compression of neural machine translation models via pruning", "journal": "ACL", "year": "2016-08-11", "authors": "Abigail See; Minh-Thang Luong; Christopher D Manning"}, {"title": "Neural machine translation of rare words with subword units", "journal": "Long Papers", "year": "2016-08-07", "authors": "Rico Sennrich; Barry Haddow; Alexandra Birch"}, {"title": "Sequence to sequence learning with neural networks", "journal": "", "year": "2014-12-08", "authors": "Ilya Sutskever; Oriol Vinyals; V Quoc;  Le"}, {"title": "Multilingual neural machine translation with language clustering", "journal": "", "year": "2019-11-03", "authors": "Xu Tan; Jiale Chen; Di He; Yingce Xia; Tao Qin; Tie-Yan Liu"}, {"title": "Attention is all you need", "journal": "", "year": "2017-12-09", "authors": "Ashish Vaswani; Noam Shazeer; Niki Parmar; Jakob Uszkoreit; Llion Jones; Aidan N Gomez; Lukasz Kaiser; Illia Polosukhin"}, {"title": "Multilingual NMT with a language-independent attention bridge", "journal": "", "year": "2019", "authors": "Ra\u00fal V\u00e1zquez; Alessandro Raganato; J\u00f6rg Tiedemann; Mathias Creutz"}, {"title": "On the sparsity of neural machine translation models", "journal": "Association for Computational Linguistics", "year": "2020-11-16", "authors": "Yong Wang; Longyue Wang; O K Victor; Zhaopeng Li;  Tu"}, {"title": "Go from the general to the particular: Multi-domain translation with domain transformation networks", "journal": "AAAI Press", "year": "2020-02-07", "authors": "Yong Wang; Longyue Wang; Shuming Shi; O K Victor; Zhaopeng Li;  Tu"}, {"title": "Share or not? learning to schedule language-specific capacity for multilingual translation", "journal": "", "year": "2021", "authors": "Biao Zhang; Ankur Bapna; Rico Sennrich; Orhan Firat"}, {"title": "To prune, or not to prune: Exploring the efficacy of pruning for model compression", "journal": "Vancouver", "year": "2018-04-30", "authors": "Michael Zhu; Suyog Gupta"}, {"title": "Transfer learning for low-resource neural machine translation", "journal": "The Association for Computational Linguistics", "year": "2016-11-01", "authors": "Barret Zoph; Deniz Yuret; Jonathan May; Kevin Knight"}], "figures": [{"figure_label": "1", "figure_type": "", "figure_id": "fig_0", "figure_caption": "Figure 1 :1Figure 1: The whole training process of the proposed method. The red, yellow and blue circles represent languagespecific neurons that are important for l 1 , l 2 &l 3 and l 1 &l 3 , respectively.", "figure_data": ""}, {"figure_label": "2", "figure_type": "", "figure_id": "fig_1", "figure_caption": "Figure 2 :2Figure 2: Importance distribution of neurons computed by Taylor Expansion in each module. For example, 'O2M-Enc-6-FFN' represents the importance of the feed forward network in the 6-th encoder layer.", "figure_data": ""}, {"figure_label": "", "figure_type": "", "figure_id": "fig_2", "figure_caption": "For clarity and convenience, we only show the importance values of three language pairs in the sixth layer of encoder and decoder. The results of O2M are shown in Figure 2(a) and Figure 2(b), and the language pairs are En\u2192Es, En\u2192Pt, and En\u2192Fi. The first two target languages(", "figure_data": ""}, {"figure_label": "3", "figure_type": "", "figure_id": "fig_3", "figure_caption": "Figure 3 :3Figure 3: The distribution of the language-specific neurons in the encoder and decoder. The importance of neurons is computed by Taylor Expansion. The first two sub-figures show the proportion of specific neurons for different language pairs, while the last two subfigures show the proportion of specific neurons in different modules.", "figure_data": ""}, {"figure_label": "4", "figure_type": "", "figure_id": "fig_4", "figure_caption": "Figure 4 :4Figure 4: The average \u2206 BLEU over the Multilingual baseline with different hyper-parameters k on the many-to-many translation task.", "figure_data": ""}, {"figure_label": "6", "figure_type": "", "figure_id": "fig_5", "figure_caption": "Figure 6 :6Figure 6: \u2206 BLEU over Multilingual baseline on manyto-many translation.", "figure_data": ""}, {"figure_label": "1", "figure_type": "table", "figure_id": "tab_1", "figure_caption": "BLEU scores on the many-to-many translation tasks. 'AVE' denotes the average BLEU of the eight test sets and 'Para' denotes the number of parameters of the whole model. 'Para' of the Individual system is the sum of the models for the eight language pairs with 58.3M parameters for each model.39.86 41.16 22.95 31.75 32.31 38.12 32.95 35.57 40.51 43.83 33.23 35.70 746.76M Multilingual 37.87 40.34 41.58 23.03 31.10 33.11 39.22 32.67 36.20 42.05 44.76 33.16 36.26 90.42M +TS 37.70 40.70 42.05 23.28 31.78 32.90 39.48 33.66 36.09 42.03 44.29 33.14 36.43 +0.17 273.77M +Adapter 38.11 40.23 41.83 23.66 32.00 33.49 39.87 32.85 36.25 42.00 44.63 32.90 36.49 +0.23 109.54M Our Method-AV 37.84 40.75 42.16 23.71 31.40 33.56 39.95 33.23 36.56 42.09 45.27 33.38 36.66 +0.40 90.42M Our Method-TE 38.21 40.70 42.22 23.74 31.32 33.55 39.78 32.94 36.58 41.91 44.94 33.07 36.58 +0.32 90.42M +Expansion 38.03 40.59 42.28 23.73 32.47 34.12 40.12 33.95 36.41 42.44 45.30 33.43 36.91 +0.65 102.14M", "figure_data": "CsElEsFiHuLtLvPlPtSkSlSvAVEParaIndividual36.14"}, {"figure_label": "2", "figure_type": "table", "figure_id": "tab_2", "figure_caption": "", "figure_data": ""}, {"figure_label": "3", "figure_type": "table", "figure_id": "tab_4", "figure_caption": "BLEU scores on many-to-many translation tasks when k = 0.7", "figure_data": ""}], "doi": "10.18653/v1/n19-1388"}